{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script setup>\r\nimport { onLaunch, onShow, onHide } from '@dcloudio/uni-app'\r\n\r\n\r\nonLaunch(() => {\r\n\t\r\n})\r\n\r\nonShow(() => {\r\n  // console.log('App Show')\r\n})\r\n\r\nonHide(() => {\r\n  // console.log('App Hide')\r\n})\r\n</script>\r\n\r\n<style>\r\n\thtml, body {\r\n\t\tfont-family: Arial, Helvetica, sans-serif;\r\n\t}\r\n</style>\r\n","import App from './App'\r\nimport { createSSRApp } from 'vue'\r\nimport { createPinia } from 'pinia'\r\nimport piniaPersist from 'pinia-plugin-persist-uni'\r\n\r\nexport function createApp() {\r\n  try {\r\n    const app = createSSRApp(App)\r\n    const pinia = createPinia()\r\n    \r\n    // 安全地使用 pinia 插件\r\n    try {\r\n      pinia.use(piniaPersist) // 持久化存储\r\n    } catch (error) {\r\n      console.warn('Pinia persist plugin failed to load:', error)\r\n    }\r\n    \r\n    app.use(pinia)\r\n    \r\n    // 全局错误处理\r\n    app.config.errorHandler = (err, vm, info) => {\r\n      console.error('Vue error caught:', {\r\n        error: err,\r\n        component: vm,\r\n        info: info\r\n      })\r\n    }\r\n    \r\n    return {\r\n      app,\r\n      pinia\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to create app:', error)\r\n    // 返回一个基本的错误处理应用\r\n    const errorApp = createSSRApp({\r\n      template: '<view>应用初始化失败，请刷新页面重试</view>'\r\n    })\r\n    return {\r\n      app: errorApp,\r\n      pinia: null\r\n    }\r\n  }\r\n}"],"names":["onLaunch","onShow","onHide","createSSRApp","App","createPinia","piniaPersist","uni"],"mappings":";;;;;;;;;;;;;;;;;;;AAIAA,kBAAAA,SAAS,MAAM;AAAA,IAEf,CAAC;AAEDC,kBAAAA,OAAO,MAAM;AAAA,IAEb,CAAC;AAEDC,kBAAAA,OAAO,MAAM;AAAA,IAEb,CAAC;;;;;ACTM,SAAS,YAAY;AAC1B,MAAI;AACF,UAAM,MAAMC,cAAY,aAACC,SAAG;AAC5B,UAAM,QAAQC,cAAAA,YAAa;AAG3B,QAAI;AACF,YAAM,IAAIC,qBAAY;AAAA,IACvB,SAAQ,OAAO;AACdC,oBAAAA,qCAAa,wCAAwC,KAAK;AAAA,IAC3D;AAED,QAAI,IAAI,KAAK;AAGb,QAAI,OAAO,eAAe,CAAC,KAAK,IAAI,SAAS;AAC3CA,oBAAAA,MAAA,MAAA,SAAA,iBAAc,qBAAqB;AAAA,QACjC,OAAO;AAAA,QACP,WAAW;AAAA,QACX;AAAA,MACR,CAAO;AAAA,IACF;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACD;AAAA,EACF,SAAQ,OAAO;AACdA,kBAAAA,MAAA,MAAA,SAAA,iBAAc,yBAAyB,KAAK;AAE5C,UAAM,WAAWJ,cAAAA,aAAa;AAAA,MAC5B,UAAU;AAAA,IAChB,CAAK;AACD,WAAO;AAAA,MACL,KAAK;AAAA,MACL,OAAO;AAAA,IACR;AAAA,EACF;AACH;;;"}