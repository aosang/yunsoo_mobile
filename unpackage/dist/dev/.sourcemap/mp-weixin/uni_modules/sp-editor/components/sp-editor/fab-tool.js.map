{"version":3,"file":"fab-tool.js","sources":["uni_modules/sp-editor/components/sp-editor/fab-tool.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy9zcC1lZGl0b3IvY29tcG9uZW50cy9zcC1lZGl0b3IvZmFiLXRvb2wudnVl"],"sourcesContent":["<template>\r\n  <view class=\"fab-tool\">\r\n    <view id=\"toolfab\">\r\n      <slot></slot>\r\n    </view>\r\n    <view class=\"fab-tool-content\" :style=\"placementStyle\" id=\"placementfab\">\r\n      <slot name=\"content\" v-if=\"visible\"></slot>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    placement: {\r\n      type: String,\r\n      default: 'auto' // 'auto' | 'top-start' | 'top-center' | 'top-end' | 'bottom-start' | 'bottom-center' | 'bottom-end'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      placementHeight: '0',\r\n      placementType: ''\r\n    }\r\n  },\r\n  watch: {\r\n    visible(newVal) {\r\n      if (newVal) {\r\n        const { screenWidth } = uni.getSystemInfoSync()\r\n\r\n        this.$nextTick(() => {\r\n          let placementWidth = 0\r\n          uni\r\n            .createSelectorQuery()\r\n            .in(this)\r\n            .select('#placementfab')\r\n            .boundingClientRect((res) => {\r\n              this.placementHeight = -res.height + 'px'\r\n              placementWidth = res.width\r\n            })\r\n            .exec()\r\n          // 开启自动模式后\r\n          if (this.placement == 'auto') {\r\n            uni\r\n              .createSelectorQuery()\r\n              .in(this)\r\n              .select('#toolfab')\r\n              .boundingClientRect((res) => {\r\n                let leftRemain = res.left\r\n                let rightRemain = screenWidth - leftRemain\r\n                if (rightRemain > placementWidth) {\r\n                  this.placementType = 'bottom-start'\r\n                } else if (leftRemain > placementWidth) {\r\n                  this.placementType = 'bottom-end'\r\n                } else {\r\n                  this.placementType = 'bottom-center'\r\n                }\r\n              })\r\n              .exec()\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.placementType = this.placement\r\n  },\r\n  computed: {\r\n    placementStyle() {\r\n      let position = {}\r\n      switch (this.placementType) {\r\n        case 'top-start':\r\n          position = {\r\n            top: this.placementHeight,\r\n            left: 0\r\n          }\r\n          break\r\n        case 'top-center':\r\n          position = {\r\n            top: this.placementHeight,\r\n            left: '50%',\r\n            transform: 'translateX(-50%)'\r\n          }\r\n          break\r\n        case 'top-end':\r\n          position = {\r\n            top: this.placementHeight,\r\n            right: 0\r\n          }\r\n          break\r\n        case 'bottom-start':\r\n          position = {\r\n            bottom: this.placementHeight,\r\n            left: 0\r\n          }\r\n          break\r\n        case 'bottom-center':\r\n          position = {\r\n            bottom: this.placementHeight,\r\n            left: '50%',\r\n            transform: 'translateX(-50%)'\r\n          }\r\n          break\r\n        case 'bottom-end':\r\n          position = {\r\n            bottom: this.placementHeight,\r\n            right: 0\r\n          }\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      return position\r\n    }\r\n  },\r\n  methods: {\r\n    //\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.fab-tool {\r\n  position: relative;\r\n\r\n  .fab-tool-content {\r\n    position: absolute;\r\n    z-index: 999;\r\n\r\n    background-color: #ffffff;\r\n    box-shadow: -2px -2px 4px rgba(0, 0, 0, 0.05), 2px 2px 4px rgba(0, 0, 0, 0.05);\r\n    border-radius: 12rpx;\r\n    box-sizing: border-box;\r\n  }\r\n}\r\n</style>\r\n","import Component from 'F:/yunsoo_mobile/uni_modules/sp-editor/components/sp-editor/fab-tool.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":";;AAYA,MAAK,YAAU;AAAA,EACb,OAAO;AAAA,IACL,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IACX;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,eAAe;AAAA,IACjB;AAAA,EACD;AAAA,EACD,OAAO;AAAA,IACL,QAAQ,QAAQ;AACd,UAAI,QAAQ;AACV,cAAM,EAAE,YAAU,IAAMA,cAAG,MAAC,kBAAkB;AAE9C,aAAK,UAAU,MAAM;AACnB,cAAI,iBAAiB;AACrBA,wBAAE,MACC,oBAAoB,EACpB,GAAG,IAAI,EACP,OAAO,eAAe,EACtB,mBAAmB,CAAC,QAAQ;AAC3B,iBAAK,kBAAkB,CAAC,IAAI,SAAS;AACrC,6BAAiB,IAAI;AAAA,WACtB,EACA,KAAK;AAER,cAAI,KAAK,aAAa,QAAQ;AAC5BA,0BAAE,MACC,oBAAoB,EACpB,GAAG,IAAI,EACP,OAAO,UAAU,EACjB,mBAAmB,CAAC,QAAQ;AAC3B,kBAAI,aAAa,IAAI;AACrB,kBAAI,cAAc,cAAc;AAChC,kBAAI,cAAc,gBAAgB;AAChC,qBAAK,gBAAgB;AAAA,cACvB,WAAW,aAAa,gBAAgB;AACtC,qBAAK,gBAAgB;AAAA,qBAChB;AACL,qBAAK,gBAAgB;AAAA,cACvB;AAAA,aACD,EACA,KAAK;AAAA,UACV;AAAA,SACD;AAAA,MACH;AAAA,IACF;AAAA,EACD;AAAA,EACD,UAAU;AACR,SAAK,gBAAgB,KAAK;AAAA,EAC3B;AAAA,EACD,UAAU;AAAA,IACR,iBAAiB;AACf,UAAI,WAAW,CAAC;AAChB,cAAQ,KAAK,eAAa;AAAA,QACxB,KAAK;AACH,qBAAW;AAAA,YACT,KAAK,KAAK;AAAA,YACV,MAAM;AAAA,UACR;AACA;AAAA,QACF,KAAK;AACH,qBAAW;AAAA,YACT,KAAK,KAAK;AAAA,YACV,MAAM;AAAA,YACN,WAAW;AAAA,UACb;AACA;AAAA,QACF,KAAK;AACH,qBAAW;AAAA,YACT,KAAK,KAAK;AAAA,YACV,OAAO;AAAA,UACT;AACA;AAAA,QACF,KAAK;AACH,qBAAW;AAAA,YACT,QAAQ,KAAK;AAAA,YACb,MAAM;AAAA,UACR;AACA;AAAA,QACF,KAAK;AACH,qBAAW;AAAA,YACT,QAAQ,KAAK;AAAA,YACb,MAAM;AAAA,YACN,WAAW;AAAA,UACb;AACA;AAAA,QACF,KAAK;AACH,qBAAW;AAAA,YACT,QAAQ,KAAK;AAAA,YACb,OAAO;AAAA,UACT;AACA;AAAA,MAGJ;AACA,aAAO;AAAA,IACT;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA,EAET;AACF;;;;;;;;;ACzHA,GAAG,gBAAgB,SAAS;"}