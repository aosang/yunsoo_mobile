{"version":3,"file":"index.js","sources":["uni_modules/wot-design-uni/locale/index.ts"],"sourcesContent":["/*\r\n * @Author: weisheng\r\n * @Date: 2024-01-25 23:06:48\r\n * @LastEditTime: 2024-03-30 11:30:55\r\n * @LastEditors: weisheng\r\n * @Description:\r\n * @FilePath: /wot-design-uni/src/uni_modules/wot-design-uni/locale/index.ts\r\n * 记得注释\r\n */\r\nimport { reactive, ref } from 'vue'\r\nimport zhCN from './lang/zh-CN'\r\nimport { deepAssign } from '../components/common/util'\r\n\r\ntype Message = Record<string, any>\r\ntype Messages = Record<string, Message>\r\n\r\nconst lang = ref<string>('zh-CN')\r\nconst messages = reactive<Messages>({\r\n  'zh-CN': zhCN\r\n})\r\n\r\nexport const Locale = {\r\n  messages(): Message {\r\n    return messages[lang.value]\r\n  },\r\n\r\n  use(newLang: string, newMessage?: Message) {\r\n    lang.value = newLang\r\n    if (newMessage) {\r\n      this.add({ [newLang]: newMessage })\r\n    }\r\n  },\r\n\r\n  add(newMessages: Messages = {}) {\r\n    deepAssign(messages, newMessages)\r\n  }\r\n}\r\n\r\nexport const useCurrentLang = () => lang\r\n\r\nexport default Locale\r\n"],"names":["ref","reactive","zhCN","deepAssign"],"mappings":";;;;AAgBA,MAAM,OAAOA,cAAAA,IAAY,OAAO;AAChC,MAAM,WAAWC,cAAAA,SAAmB;AAAA,EAClC,SAASC,0CAAA;AACX,CAAC;AAEM,MAAM,SAAS;AAAA,EACpB,WAAoB;AACX,WAAA,SAAS,KAAK,KAAK;AAAA,EAC5B;AAAA,EAEA,IAAI,SAAiB,YAAsB;AACzC,SAAK,QAAQ;AACb,QAAI,YAAY;AACd,WAAK,IAAI,EAAE,CAAC,OAAO,GAAG,WAAY,CAAA;AAAA,IACpC;AAAA,EACF;AAAA,EAEA,IAAI,cAAwB,IAAI;AAC9BC,+DAAW,UAAU,WAAW;AAAA,EAClC;AACF;;"}