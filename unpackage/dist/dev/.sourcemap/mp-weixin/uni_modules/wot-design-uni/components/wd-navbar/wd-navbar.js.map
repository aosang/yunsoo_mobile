{"version":3,"file":"wd-navbar.js","sources":["uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLW5hdmJhci93ZC1uYXZiYXIudnVl"],"sourcesContent":["<template>\r\n  <view :style=\"{ height: addUnit(height) }\">\r\n    <view :class=\"`wd-navbar ${customClass} ${fixed ? 'is-fixed' : ''} ${bordered ? 'is-border' : ''}`\" :style=\"rootStyle\">\r\n      <view class=\"wd-navbar__content\">\r\n        <view class=\"wd-navbar__capsule\" v-if=\"$slots.capsule\">\r\n          <slot name=\"capsule\" />\r\n        </view>\r\n\r\n        <view :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\" v-else-if=\"!$slots.left\">\r\n          <wd-icon v-if=\"leftArrow\" name=\"arrow-left\" custom-class=\"wd-navbar__arrow\" />\r\n          <view v-if=\"leftText\" class=\"wd-navbar__text\">{{ leftText }}</view>\r\n        </view>\r\n\r\n        <view v-else :class=\"`wd-navbar__left ${leftDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickLeft\">\r\n          <slot name=\"left\" />\r\n        </view>\r\n\r\n        <view class=\"wd-navbar__title\">\r\n          <slot name=\"title\" />\r\n          <template v-if=\"!$slots.title && title\">{{ title }}</template>\r\n        </view>\r\n        <view :class=\"`wd-navbar__right ${rightDisabled ? 'is-disabled' : ''}`\" @click=\"handleClickRight\" v-if=\"$slots.right || rightText\">\r\n          <slot name=\"right\" />\r\n\r\n          <view v-if=\"!$slots.right && rightText\" class=\"wd-navbar__text\" hover-class=\"wd-navbar__text--hover\" :hover-stay-time=\"70\">\r\n            {{ rightText }}\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: 'wd-navbar',\r\n  options: {\r\n    virtualHost: true,\r\n    addGlobalClass: true,\r\n    styleIsolation: 'shared'\r\n  }\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport wdIcon from '../wd-icon/wd-icon.vue'\r\nimport { type CSSProperties, computed, getCurrentInstance, nextTick, onMounted, ref, watch } from 'vue'\r\nimport { getRect, addUnit, isDef, objToStyle } from '../common/util'\r\nimport { navbarProps } from './types'\r\n\r\nconst props = defineProps(navbarProps)\r\nconst emit = defineEmits(['click-left', 'click-right'])\r\n\r\nconst height = ref<number | ''>('') // 占位高度\r\n\r\nconst { statusBarHeight } = uni.getSystemInfoSync()\r\n\r\nwatch(\r\n  [() => props.fixed, () => props.placeholder],\r\n  () => {\r\n    setPlaceholderHeight()\r\n  },\r\n  { deep: true, immediate: false }\r\n)\r\n\r\nconst rootStyle = computed(() => {\r\n  const style: CSSProperties = {}\r\n  if (props.fixed && isDef(props.zIndex)) {\r\n    style['z-index'] = props.zIndex\r\n  }\r\n  if (props.safeAreaInsetTop) {\r\n    style['padding-top'] = addUnit(statusBarHeight || 0)\r\n  }\r\n  return `${objToStyle(style)}${props.customStyle}`\r\n})\r\n\r\nonMounted(() => {\r\n  if (props.fixed && props.placeholder) {\r\n    nextTick(() => {\r\n      setPlaceholderHeight()\r\n    })\r\n  }\r\n})\r\n\r\nfunction handleClickLeft() {\r\n  if (!props.leftDisabled) {\r\n    emit('click-left')\r\n  }\r\n}\r\n\r\nfunction handleClickRight() {\r\n  if (!props.rightDisabled) {\r\n    emit('click-right')\r\n  }\r\n}\r\n\r\nconst { proxy } = getCurrentInstance() as any\r\n\r\nfunction setPlaceholderHeight() {\r\n  if (!props.fixed || !props.placeholder) {\r\n    return\r\n  }\r\n\r\n  getRect('.wd-navbar', false, proxy).then((res) => {\r\n    height.value = res.height as number\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import './index.scss';\r\n</style>\r\n","import Component from 'F:/yunsoo_mobile/uni_modules/wot-design-uni/components/wd-navbar/wd-navbar.vue'\nwx.createComponent(Component)"],"names":["ref","uni","watch","computed","isDef","addUnit","objToStyle","onMounted","nextTick","getCurrentInstance","getRect","Component"],"mappings":";;;;;;;AA4CA,MAAA,SAAmB,MAAA;AAXnB,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,aAAa;AAAA,IACb,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,EAClB;AACF;;;;;;AASA,UAAM,QAAQ;AACd,UAAM,OAAO;AAEP,UAAA,SAASA,kBAAiB,EAAE;AAElC,UAAM,EAAE,gBAAA,IAAoBC,cAAA,MAAI,kBAAkB;AAElDC,kBAAA;AAAA,MACE,CAAC,MAAM,MAAM,OAAO,MAAM,MAAM,WAAW;AAAA,MAC3C,MAAM;AACiB;MACvB;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,MAAM;AAAA,IAAA;AAG3B,UAAA,YAAYC,cAAAA,SAAS,MAAM;AAC/B,YAAM,QAAuB,CAAA;AAC7B,UAAI,MAAM,SAASC,gDAAM,MAAA,MAAM,MAAM,GAAG;AAChC,cAAA,SAAS,IAAI,MAAM;AAAA,MAC3B;AACA,UAAI,MAAM,kBAAkB;AAC1B,cAAM,aAAa,IAAIC,gDAAQ,QAAA,mBAAmB,CAAC;AAAA,MACrD;AACA,aAAO,GAAGC,gDAAAA,WAAW,KAAK,CAAC,GAAG,MAAM,WAAW;AAAA,IAAA,CAChD;AAEDC,kBAAAA,UAAU,MAAM;AACV,UAAA,MAAM,SAAS,MAAM,aAAa;AACpCC,sBAAAA,WAAS,MAAM;AACQ;QAAA,CACtB;AAAA,MACH;AAAA,IAAA,CACD;AAED,aAAS,kBAAkB;AACrB,UAAA,CAAC,MAAM,cAAc;AACvB,aAAK,YAAY;AAAA,MACnB;AAAA,IACF;AAEA,aAAS,mBAAmB;AACtB,UAAA,CAAC,MAAM,eAAe;AACxB,aAAK,aAAa;AAAA,MACpB;AAAA,IACF;AAEM,UAAA,EAAE,UAAUC,cAAAA;AAElB,aAAS,uBAAuB;AAC9B,UAAI,CAAC,MAAM,SAAS,CAAC,MAAM,aAAa;AACtC;AAAA,MACF;AAEAC,sDAAA,QAAQ,cAAc,OAAO,KAAK,EAAE,KAAK,CAAC,QAAQ;AAChD,eAAO,QAAQ,IAAI;AAAA,MAAA,CACpB;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA,GAAG,gBAAgBC,SAAS;"}