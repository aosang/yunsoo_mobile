{"version":3,"file":"useQueue.js","sources":["uni_modules/wot-design-uni/components/composables/useQueue.ts"],"sourcesContent":["import { type Ref, provide, ref } from 'vue'\r\n\r\nexport const queueKey = '__QUEUE_KEY__'\r\n\r\nexport interface Queue {\r\n  queue: Ref<any[]>\r\n  pushToQueue: (comp: any) => void\r\n  removeFromQueue: (comp: any) => void\r\n  closeOther: (comp: any) => void\r\n  closeOutside: () => void\r\n}\r\n\r\nexport function useQueue() {\r\n  const queue = ref<any[]>([])\r\n\r\n  function pushToQueue(comp: any) {\r\n    queue.value.push(comp)\r\n  }\r\n\r\n  function removeFromQueue(comp: any) {\r\n    queue.value = queue.value.filter((item) => {\r\n      return item.$.uid !== comp.$.uid\r\n    })\r\n  }\r\n\r\n  function closeOther(comp: any) {\r\n    queue.value.forEach((item) => {\r\n      if (item.$.uid !== comp.$.uid) {\r\n        item.$.exposed.close()\r\n      }\r\n    })\r\n  }\r\n\r\n  function closeOutside() {\r\n    queue.value.forEach((item) => {\r\n      item.$.exposed.close()\r\n    })\r\n  }\r\n\r\n  provide(queueKey, {\r\n    queue,\r\n    pushToQueue,\r\n    removeFromQueue,\r\n    closeOther,\r\n    closeOutside\r\n  })\r\n\r\n  return {\r\n    closeOther,\r\n    closeOutside\r\n  }\r\n}\r\n"],"names":[],"mappings":";;AAEO,MAAM,WAAW;;"}