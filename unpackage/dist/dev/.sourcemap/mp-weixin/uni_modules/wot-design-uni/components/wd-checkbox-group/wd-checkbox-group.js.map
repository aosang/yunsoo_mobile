{"version":3,"file":"wd-checkbox-group.js","sources":["uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLWNoZWNrYm94LWdyb3VwL3dkLWNoZWNrYm94LWdyb3VwLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view :class=\"`wd-checkbox-group ${shape === 'button' && cell ? 'is-button' : ''} ${customClass}`\" :style=\"customStyle\">\r\n    <slot />\r\n  </view>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: 'wd-checkbox-group',\r\n  options: {\r\n    addGlobalClass: true,\r\n    virtualHost: true,\r\n    styleIsolation: 'shared'\r\n  }\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { watch } from 'vue'\r\nimport { checkNumRange, deepClone } from '../common/util'\r\nimport { useChildren } from '../composables/useChildren'\r\nimport { CHECKBOX_GROUP_KEY, checkboxGroupProps } from './types'\r\n\r\nconst props = defineProps(checkboxGroupProps)\r\nconst emit = defineEmits(['change', 'update:modelValue'])\r\n\r\nconst { linkChildren } = useChildren(CHECKBOX_GROUP_KEY)\r\n\r\nlinkChildren({ props, changeSelectState })\r\n\r\nwatch(\r\n  () => props.modelValue,\r\n  (newValue) => {\r\n    // 传入的value数组中包括重复的元素，这种情况非法。\r\n    if (new Set(newValue).size !== newValue.length) {\r\n      // eslint-disable-next-line quotes\r\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:36',\"checkboxGroup's bound value includes same value\")\r\n    }\r\n    if (newValue.length < props.min) {\r\n      // eslint-disable-next-line quotes\r\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:40',\"checkboxGroup's bound value's length can't be less than min\")\r\n    }\r\n    if (props.max !== 0 && newValue.length > props.max) {\r\n      // eslint-disable-next-line quotes\r\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:44',\"checkboxGroup's bound value's length can't be large than max\")\r\n    }\r\n    // 每次value变化都会触发重新匹配选中项\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\nwatch(\r\n  () => props.shape,\r\n  (newValue) => {\r\n    const type = ['circle', 'square', 'button']\r\n    if (type.indexOf(newValue) === -1) uni.__f__('error','at uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue:55',`shape must be one of ${type.toString()}`)\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\nwatch(\r\n  () => props.min,\r\n  (newValue) => {\r\n    checkNumRange(newValue, 'min')\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\nwatch(\r\n  () => props.max,\r\n  (newValue) => {\r\n    checkNumRange(newValue, 'max')\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\n/**\r\n * @description 子节点通知父节点修改子节点选中状态\r\n * @param {any} value 子组件的标识符\r\n */\r\nfunction changeSelectState(value: string | number | boolean) {\r\n  const temp: (string | number | boolean)[] = deepClone(props.modelValue)\r\n  const index = temp.indexOf(value)\r\n  if (index > -1) {\r\n    // 已经选中，则从 value 列表中删除子节点的标识符。\r\n    temp.splice(index, 1)\r\n  } else {\r\n    // 之前未选中，则现在把加子节点的标识符加到 value 列表中。\r\n    temp.push(value)\r\n  }\r\n  emit('update:modelValue', temp)\r\n\r\n  emit('change', {\r\n    value: temp\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './index.scss';\r\n</style>\r\n","import Component from 'F:/yunsoo_mobile/uni_modules/wot-design-uni/components/wd-checkbox-group/wd-checkbox-group.vue'\nwx.createComponent(Component)"],"names":["useChildren","CHECKBOX_GROUP_KEY","watch","uni","checkNumRange","deepClone"],"mappings":";;;;;AAMA,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EAClB;AACF;;;;;;AASA,UAAM,QAAQ;AACd,UAAM,OAAO;AAEb,UAAM,EAAE,aAAA,IAAiBA,4DAAA,YAAYC,0DAAkB,kBAAA;AAE1C,iBAAA,EAAE,OAAO,kBAAA,CAAmB;AAEzCC,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AAEZ,YAAI,IAAI,IAAI,QAAQ,EAAE,SAAS,SAAS,QAAQ;AAE1CC,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,iDAAiD;AAAA,QAC3J;AACI,YAAA,SAAS,SAAS,MAAM,KAAK;AAE3BA,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,6DAA6D;AAAA,QACvK;AACA,YAAI,MAAM,QAAQ,KAAK,SAAS,SAAS,MAAM,KAAK;AAE9CA,wBAAAA,MAAA,MAAM,SAAQ,uFAAsF,8DAA8D;AAAA,QACxK;AAAA,MAEF;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCD,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZ,cAAM,OAAO,CAAC,UAAU,UAAU,QAAQ;AACtC,YAAA,KAAK,QAAQ,QAAQ,MAAM;AAAIC,8BAAI,MAAM,SAAQ,uFAAsF,wBAAwB,KAAK,UAAU,EAAE;AAAA,MACtL;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCD,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZE,sEAAc,UAAU,KAAK;AAAA,MAC/B;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhCF,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACZE,sEAAc,UAAU,KAAK;AAAA,MAC/B;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAOhC,aAAS,kBAAkB,OAAkC;AACrD,YAAA,OAAsCC,gDAAAA,UAAU,MAAM,UAAU;AAChE,YAAA,QAAQ,KAAK,QAAQ,KAAK;AAChC,UAAI,QAAQ,IAAI;AAET,aAAA,OAAO,OAAO,CAAC;AAAA,MAAA,OACf;AAEL,aAAK,KAAK,KAAK;AAAA,MACjB;AACA,WAAK,qBAAqB,IAAI;AAE9B,WAAK,UAAU;AAAA,QACb,OAAO;AAAA,MAAA,CACR;AAAA,IACH;;;;;;;;;;AC7FA,GAAG,gBAAgB,SAAS;"}