{"version":3,"file":"wd-tab.js","sources":["uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLXRhYi93ZC10YWIudnVl"],"sourcesContent":["<template>\r\n\t<view :class=\"`wd-tab ${customClass}`\" :style=\"customStyle\">\r\n\t\t<view :class=\"['wd-tab__body', { 'wd-tab__body--inactive': !active }]\" v-if=\"shouldBeRender\" :style=\"tabBodyStyle\">\r\n\t\t\t<slot />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script lang=\"ts\">\r\n\texport default {\r\n\t\tname: 'wd-tab',\r\n\t\toptions: {\r\n\t\t\taddGlobalClass: true,\r\n\t\t\tvirtualHost: true,\r\n\t\t\tstyleIsolation: 'shared'\r\n\t\t}\r\n\t}\r\n</script>\r\n<script lang=\"ts\" setup>\r\n\timport { getCurrentInstance, ref, watch, type CSSProperties } from 'vue'\r\n\timport { isDef, isNumber, isString, objToStyle } from '../common/util'\r\n\timport { useParent } from '../composables/useParent'\r\n\timport { TABS_KEY } from '../wd-tabs/types'\r\n\timport { computed } from 'vue'\r\n\timport { tabProps } from './types'\r\n\r\n\tconst props = defineProps(tabProps)\r\n\r\n\tconst { proxy } = getCurrentInstance() as any\r\n\tconst { parent: tabs, index } = useParent(TABS_KEY)\r\n\r\n\t// 激活项下标\r\n\tconst active = computed(() => {\r\n\t\treturn isDef(tabs) ? tabs.state.activeIndex === index.value : false\r\n\t})\r\n\r\n\tconst painted = ref<boolean>(active.value) // 初始状态tab不会渲染，必须通过tabs来设置painted使tab渲染\r\n\r\n\tconst tabBodyStyle = computed(() => {\r\n\t\tconst style : CSSProperties = {}\r\n\t\tif (!active.value && (!isDef(tabs) || !tabs.props.animated)) {\r\n\t\t\tstyle.display = 'none'\r\n\t\t}\r\n\t\treturn objToStyle(style)\r\n\t})\r\n\r\n\tconst shouldBeRender = computed(() => !props.lazy || painted.value || active.value)\r\n\r\n\twatch(active, (val) => {\r\n\t\tif (val) painted.value = true\r\n\t})\r\n\r\n\twatch(\r\n\t\t() => props.name,\r\n\t\t(newValue) => {\r\n\t\t\tif (isDef(newValue) && !isNumber(newValue) && !isString(newValue)) {\r\n\t\t\t\tuni.__f__('error','at uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue:56','[wot ui] error(wd-tab): the type of name should be number or string')\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif (tabs) {\r\n\t\t\t\tcheckName(proxy)\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tdeep: true,\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t)\r\n\r\n\t/**\r\n\t * @description 检测tab绑定的name是否和其它tab的name冲突\r\n\t * @param {Object} self 自身\r\n\t */\r\n\tfunction checkName(self : any) {\r\n\t\tconst { name: myName } = props\r\n\t\tif (myName === undefined || myName === null || myName === '') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttabs &&\r\n\t\t\ttabs.children.forEach((child : any) => {\r\n\t\t\t\tif (child.$.uid !== self.$.uid && child.name === myName) {\r\n\t\t\t\t\tuni.__f__('error','at uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue:81',`The tab's bound value: ${myName} has been used`)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t@import './index.scss';\r\n</style>","import Component from 'F:/yunsoo_mobile/uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","useParent","TABS_KEY","computed","isDef","ref","objToStyle","watch","isNumber","isString","uni"],"mappings":";;;;;;AAQC,MAAA,cAAe;AAAA,EACd,MAAM;AAAA,EACN,SAAS;AAAA,IACR,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EACjB;AACD;;;;;AAUA,UAAM,QAAQ;AAER,UAAA,EAAE,UAAUA,cAAAA;AAClB,UAAM,EAAE,QAAQ,MAAM,MAAM,IAAIC,0DAAAA,UAAUC,iDAAAA,QAAQ;AAG5C,UAAA,SAASC,cAAAA,SAAS,MAAM;AAC7B,aAAOC,sDAAM,IAAI,IAAI,KAAK,MAAM,gBAAgB,MAAM,QAAQ;AAAA,IAAA,CAC9D;AAEK,UAAA,UAAUC,cAAAA,IAAa,OAAO,KAAK;AAEnC,UAAA,eAAeF,cAAAA,SAAS,MAAM;AACnC,YAAM,QAAwB,CAAA;AAC1B,UAAA,CAAC,OAAO,UAAU,CAACC,gDAAA,MAAM,IAAI,KAAK,CAAC,KAAK,MAAM,WAAW;AAC5D,cAAM,UAAU;AAAA,MACjB;AACA,aAAOE,gDAAAA,WAAW,KAAK;AAAA,IAAA,CACvB;AAEK,UAAA,iBAAiBH,uBAAS,MAAM,CAAC,MAAM,QAAQ,QAAQ,SAAS,OAAO,KAAK;AAE5EI,wBAAA,QAAQ,CAAC,QAAQ;AAClB,UAAA;AAAK,gBAAQ,QAAQ;AAAA,IAAA,CACzB;AAEDA,kBAAA;AAAA,MACC,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACT,YAAAH,gDAAA,MAAM,QAAQ,KAAK,CAACI,gDAAAA,SAAS,QAAQ,KAAK,CAACC,yDAAS,QAAQ,GAAG;AAC9DC,wBAAAA,MAAA,MAAM,SAAQ,iEAAgE,qEAAqE;AACvJ;AAAA,QACD;AACA,YAAI,MAAM;AACT,oBAAU,KAAK;AAAA,QAChB;AAAA,MACD;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,WAAW;AAAA,MACZ;AAAA,IAAA;AAOD,aAAS,UAAU,MAAY;AACxB,YAAA,EAAE,MAAM,OAAW,IAAA;AACzB,UAAI,WAAW,UAAa,WAAW,QAAQ,WAAW,IAAI;AAC7D;AAAA,MACD;AACA,cACC,KAAK,SAAS,QAAQ,CAAC,UAAgB;AAClC,YAAA,MAAM,EAAE,QAAQ,KAAK,EAAE,OAAO,MAAM,SAAS,QAAQ;AACxDA,8BAAI,MAAM,SAAQ,iEAAgE,0BAA0B,MAAM,gBAAgB;AAAA,QACnI;AAAA,MAAA,CACA;AAAA,IACH;;;;;;;;;;;;;;;;;AClFD,GAAG,gBAAgB,SAAS;"}