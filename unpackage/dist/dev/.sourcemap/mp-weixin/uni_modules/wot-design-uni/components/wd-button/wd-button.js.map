{"version":3,"file":"wd-button.js","sources":["uni_modules/wot-design-uni/components/wd-button/wd-button.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLWJ1dHRvbi93ZC1idXR0b24udnVl"],"sourcesContent":["<template>\r\n  <button\r\n    :id=\"buttonId\"\r\n    :hover-class=\"`${disabled || loading ? '' : 'wd-button--active'}`\"\r\n    :style=\"customStyle\"\r\n    :class=\"[\r\n      'wd-button',\r\n      'is-' + type,\r\n      'is-' + size,\r\n      round ? 'is-round' : '',\r\n      hairline ? 'is-hairline' : '',\r\n      plain ? 'is-plain' : '',\r\n      disabled ? 'is-disabled' : '',\r\n      block ? 'is-block' : '',\r\n      loading ? 'is-loading' : '',\r\n      customClass\r\n    ]\"\r\n    :hover-start-time=\"hoverStartTime\"\r\n    :hover-stay-time=\"hoverStayTime\"\r\n    :open-type=\"disabled || loading ? undefined : openType\"\r\n    :send-message-title=\"sendMessageTitle\"\r\n    :send-message-path=\"sendMessagePath\"\r\n    :send-message-img=\"sendMessageImg\"\r\n    :app-parameter=\"appParameter\"\r\n    :show-message-card=\"showMessageCard\"\r\n    :session-from=\"sessionFrom\"\r\n    :lang=\"lang\"\r\n    :hover-stop-propagation=\"hoverStopPropagation\"\r\n    :scope=\"scope\"\r\n    @click=\"handleClick\"\r\n    @getAuthorize=\"handleGetAuthorize\"\r\n    @getuserinfo=\"handleGetuserinfo\"\r\n    @contact=\"handleConcat\"\r\n    @getphonenumber=\"handleGetphonenumber\"\r\n    @error=\"handleError\"\r\n    @launchapp=\"handleLaunchapp\"\r\n    @opensetting=\"handleOpensetting\"\r\n    @chooseavatar=\"handleChooseavatar\"\r\n    @agreeprivacyauthorization=\"handleAgreePrivacyAuthorization\"\r\n  >\r\n    <view class=\"wd-button__content\">\r\n      <view v-if=\"loading\" class=\"wd-button__loading\">\r\n        <view class=\"wd-button__loading-svg\" :style=\"loadingStyle\"></view>\r\n      </view>\r\n      <wd-icon v-else-if=\"icon\" custom-class=\"wd-button__icon\" :name=\"icon\" :classPrefix=\"classPrefix\"></wd-icon>\r\n      <view class=\"wd-button__text\"><slot /></view>\r\n    </view>\r\n  </button>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: 'wd-button',\r\n  options: {\r\n    addGlobalClass: true,\r\n    virtualHost: true,\r\n    styleIsolation: 'shared'\r\n  }\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport wdIcon from '../wd-icon/wd-icon.vue'\r\nimport { computed, watch } from 'vue'\r\nimport { ref } from 'vue'\r\nimport base64 from '../common/base64'\r\nimport { buttonProps } from './types'\r\n\r\nconst loadingIcon = (color = '#4D80F0', reverse = true) => {\r\n  return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\"><defs><linearGradient x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\" id=\"a\"><stop stop-color=\"${\r\n    reverse ? color : '#fff'\r\n  }\" offset=\"0%\" stop-opacity=\"0\"/><stop stop-color=\"${\r\n    reverse ? color : '#fff'\r\n  }\" offset=\"100%\"/></linearGradient></defs><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M21 1c11.046 0 20 8.954 20 20s-8.954 20-20 20S1 32.046 1 21 9.954 1 21 1zm0 7C13.82 8 8 13.82 8 21s5.82 13 13 13 13-5.82 13-13S28.18 8 21 8z\" fill=\"${\r\n    reverse ? '#fff' : color\r\n  }\"/><path d=\"M4.599 21c0 9.044 7.332 16.376 16.376 16.376 9.045 0 16.376-7.332 16.376-16.376\" stroke=\"url(#a)\" stroke-width=\"3.5\" stroke-linecap=\"round\"/></g></svg>`\r\n}\r\nconst props = defineProps(buttonProps)\r\nconst emit = defineEmits([\r\n  'click',\r\n  'getuserinfo',\r\n  'contact',\r\n  'getphonenumber',\r\n  'error',\r\n  'launchapp',\r\n  'opensetting',\r\n  'chooseavatar',\r\n  'agreeprivacyauthorization'\r\n])\r\n\r\nconst hoverStartTime = ref<number>(20)\r\nconst hoverStayTime = ref<number>(70)\r\nconst loadingIconSvg = ref<string>('')\r\n\r\nconst loadingStyle = computed(() => {\r\n  return `background-image: url(${loadingIconSvg.value});`\r\n})\r\n\r\nwatch(\r\n  () => props.loading,\r\n  () => {\r\n    buildLoadingSvg()\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\nfunction handleClick(event: any) {\r\n  if (!props.disabled && !props.loading) {\r\n    emit('click', event)\r\n  }\r\n}\r\n\r\n/**\r\n * 支付宝小程序授权\r\n * @param event\r\n */\r\nfunction handleGetAuthorize(event: any) {\r\n  if (props.scope === 'phoneNumber') {\r\n    handleGetphonenumber(event)\r\n  } else if (props.scope === 'userInfo') {\r\n    handleGetuserinfo(event)\r\n  }\r\n}\r\n\r\nfunction handleGetuserinfo(event: any) {\r\n  emit('getuserinfo', event.detail)\r\n}\r\n\r\nfunction handleConcat(event: any) {\r\n  emit('contact', event.detail)\r\n}\r\n\r\nfunction handleGetphonenumber(event: any) {\r\n  emit('getphonenumber', event.detail)\r\n}\r\n\r\nfunction handleError(event: any) {\r\n  emit('error', event.detail)\r\n}\r\n\r\nfunction handleLaunchapp(event: any) {\r\n  emit('launchapp', event.detail)\r\n}\r\n\r\nfunction handleOpensetting(event: any) {\r\n  emit('opensetting', event.detail)\r\n}\r\n\r\nfunction handleChooseavatar(event: any) {\r\n  emit('chooseavatar', event.detail)\r\n}\r\n\r\nfunction handleAgreePrivacyAuthorization(event: any) {\r\n  emit('agreeprivacyauthorization', event.detail)\r\n}\r\nfunction buildLoadingSvg() {\r\n  const { loadingColor, type, plain } = props\r\n  let color = loadingColor\r\n  if (!color) {\r\n    switch (type) {\r\n      case 'primary':\r\n        color = '#4D80F0'\r\n        break\r\n      case 'success':\r\n        color = '#34d19d'\r\n        break\r\n      case 'info':\r\n        color = '#333'\r\n        break\r\n      case 'warning':\r\n        color = '#f0883a'\r\n        break\r\n      case 'error':\r\n        color = '#fa4350'\r\n        break\r\n      case 'default':\r\n        color = '#333'\r\n        break\r\n    }\r\n  }\r\n\r\n  const svg = loadingIcon(color, !plain)\r\n  loadingIconSvg.value = `\"data:image/svg+xml;base64,${base64(svg)}\"`\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './index.scss';\r\n</style>\r\n","import Component from 'F:/yunsoo_mobile/uni_modules/wot-design-uni/components/wd-button/wd-button.vue'\nwx.createComponent(Component)"],"names":["ref","computed","watch","base64"],"mappings":";;;;;;;AA8DA,MAAA,SAAmB,MAAA;AAXnB,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EAClB;AACF;;;;;;;;;;;;;;;;AAUA,UAAM,cAAc,CAAC,QAAQ,WAAW,UAAU,SAAS;AAClD,aAAA,gJACL,UAAU,QAAQ,MACpB,qDACE,UAAU,QAAQ,MACpB,4OACE,UAAU,SAAS,KACrB;AAAA,IAAA;AAEF,UAAM,QAAQ;AACd,UAAM,OAAO;AAYP,UAAA,iBAAiBA,kBAAY,EAAE;AAC/B,UAAA,gBAAgBA,kBAAY,EAAE;AAC9B,UAAA,iBAAiBA,kBAAY,EAAE;AAE/B,UAAA,eAAeC,cAAAA,SAAS,MAAM;AAC3B,aAAA,yBAAyB,eAAe,KAAK;AAAA,IAAA,CACrD;AAEDC,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,MAAM;AACY;MAClB;AAAA,MACA,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IAAA;AAGhC,aAAS,YAAY,OAAY;AAC/B,UAAI,CAAC,MAAM,YAAY,CAAC,MAAM,SAAS;AACrC,aAAK,SAAS,KAAK;AAAA,MACrB;AAAA,IACF;AAMA,aAAS,mBAAmB,OAAY;AAClC,UAAA,MAAM,UAAU,eAAe;AACjC,6BAAqB,KAAK;AAAA,MAAA,WACjB,MAAM,UAAU,YAAY;AACrC,0BAAkB,KAAK;AAAA,MACzB;AAAA,IACF;AAEA,aAAS,kBAAkB,OAAY;AAChC,WAAA,eAAe,MAAM,MAAM;AAAA,IAClC;AAEA,aAAS,aAAa,OAAY;AAC3B,WAAA,WAAW,MAAM,MAAM;AAAA,IAC9B;AAEA,aAAS,qBAAqB,OAAY;AACnC,WAAA,kBAAkB,MAAM,MAAM;AAAA,IACrC;AAEA,aAAS,YAAY,OAAY;AAC1B,WAAA,SAAS,MAAM,MAAM;AAAA,IAC5B;AAEA,aAAS,gBAAgB,OAAY;AAC9B,WAAA,aAAa,MAAM,MAAM;AAAA,IAChC;AAEA,aAAS,kBAAkB,OAAY;AAChC,WAAA,eAAe,MAAM,MAAM;AAAA,IAClC;AAEA,aAAS,mBAAmB,OAAY;AACjC,WAAA,gBAAgB,MAAM,MAAM;AAAA,IACnC;AAEA,aAAS,gCAAgC,OAAY;AAC9C,WAAA,6BAA6B,MAAM,MAAM;AAAA,IAChD;AACA,aAAS,kBAAkB;AACzB,YAAM,EAAE,cAAc,MAAM,MAAA,IAAU;AACtC,UAAI,QAAQ;AACZ,UAAI,CAAC,OAAO;AACV,gBAAQ,MAAM;AAAA,UACZ,KAAK;AACK,oBAAA;AACR;AAAA,UACF,KAAK;AACK,oBAAA;AACR;AAAA,UACF,KAAK;AACK,oBAAA;AACR;AAAA,UACF,KAAK;AACK,oBAAA;AACR;AAAA,UACF,KAAK;AACK,oBAAA;AACR;AAAA,UACF,KAAK;AACK,oBAAA;AACR;AAAA,QACJ;AAAA,MACF;AAEA,YAAM,MAAM,YAAY,OAAO,CAAC,KAAK;AACrC,qBAAe,QAAQ,8BAA8BC,kDAAO,OAAA,GAAG,CAAC;AAAA,IAClE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtLA,GAAG,gBAAgB,SAAS;"}