{"version":3,"file":"wd-loading.js","sources":["uni_modules/wot-design-uni/components/wd-loading/wd-loading.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RjoveXVuc29vX21vYmlsZS91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLWxvYWRpbmcvd2QtbG9hZGluZy52dWU"],"sourcesContent":["<template>\r\n  <view :class=\"`wd-loading ${props.customClass}`\" :style=\"rootStyle\">\r\n    <view class=\"wd-loading__body\">\r\n      <view class=\"wd-loading__svg\" :style=\"`background-image: url(${svg});`\"></view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script lang=\"ts\">\r\nexport default {\r\n  name: 'wd-loading',\r\n  options: {\r\n    virtualHost: true,\r\n    addGlobalClass: true,\r\n    styleIsolation: 'shared'\r\n  }\r\n}\r\n</script>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, onBeforeMount, ref, watch, type CSSProperties } from 'vue'\r\nimport base64 from '../common/base64'\r\nimport { gradient, context, objToStyle, addUnit, isDef } from '../common/util'\r\nimport { loadingProps } from './types'\r\n\r\nconst svgDefineId = context.id++\r\nconst svgDefineId1 = context.id++\r\nconst svgDefineId2 = context.id++\r\n\r\nconst icon = {\r\n  outline(color = '#4D80F0') {\r\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 42 42\"><defs><linearGradient x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\" id=\"${svgDefineId}\"><stop stop-color=\"#FFF\" offset=\"0%\" stop-opacity=\"0\"/><stop stop-color=\"#FFF\" offset=\"100%\"/></linearGradient></defs><g fill=\"none\" fill-rule=\"evenodd\"><path d=\"M21 1c11.046 0 20 8.954 20 20s-8.954 20-20 20S1 32.046 1 21 9.954 1 21 1zm0 7C13.82 8 8 13.82 8 21s5.82 13 13 13 13-5.82 13-13S28.18 8 21 8z\" fill=\"${color}\"/><path d=\"M4.599 21c0 9.044 7.332 16.376 16.376 16.376 9.045 0 16.376-7.332 16.376-16.376\" stroke=\"url(#${svgDefineId}) \" stroke-width=\"3.5\" stroke-linecap=\"round\"/></g></svg>`\r\n  },\r\n  ring(color = '#4D80F0', intermediateColor = '#a6bff7') {\r\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 200 200\"><linearGradient id=\"${svgDefineId1}\" gradientUnits=\"userSpaceOnUse\" x1=\"50\" x2=\"50\" y2=\"180\"><stop offset=\"0\" stop-color=\"${color}\"></stop> <stop offset=\"1\" stop-color=\"${intermediateColor}\"></stop></linearGradient> <path fill=\"url(#${svgDefineId1})\" d=\"M20 100c0-44.1 35.9-80 80-80V0C44.8 0 0 44.8 0 100s44.8 100 100 100v-20c-44.1 0-80-35.9-80-80z\"></path> <linearGradient id=\"${svgDefineId2}\" gradientUnits=\"userSpaceOnUse\" x1=\"150\" y1=\"20\" x2=\"150\" y2=\"180\"><stop offset=\"0\" stop-color=\"#fff\" stop-opacity=\"0\"></stop> <stop offset=\"1\" stop-color=\"${intermediateColor}\"></stop></linearGradient> <path fill=\"url(#${svgDefineId2})\" d=\"M100 0v20c44.1 0 80 35.9 80 80s-35.9 80-80 80v20c55.2 0 100-44.8 100-100S155.2 0 100 0z\"></path> <circle cx=\"100\" cy=\"10\" r=\"10\" fill=\"${color}\"></circle></svg>`\r\n  }\r\n}\r\n\r\nconst props = defineProps(loadingProps)\r\n\r\nconst svg = ref<string>('')\r\nconst intermediateColor = ref<string>('')\r\nconst iconSize = ref<string | number | null>(null)\r\n\r\nwatch(\r\n  () => props.size,\r\n  (newVal) => {\r\n    iconSize.value = addUnit(newVal)\r\n  },\r\n  {\r\n    deep: true,\r\n    immediate: true\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => props.type,\r\n  () => {\r\n    buildSvg()\r\n  },\r\n  {\r\n    deep: true,\r\n    immediate: true\r\n  }\r\n)\r\n\r\nconst rootStyle = computed(() => {\r\n  const style: CSSProperties = {}\r\n  if (isDef(iconSize.value)) {\r\n    style.height = addUnit(iconSize.value)\r\n    style.width = addUnit(iconSize.value)\r\n  }\r\n  return `${objToStyle(style)} ${props.customStyle}`\r\n})\r\n\r\nonBeforeMount(() => {\r\n  intermediateColor.value = gradient(props.color, '#ffffff', 2)[1]\r\n  buildSvg()\r\n})\r\n\r\nfunction buildSvg() {\r\n  const { type, color } = props\r\n  let ringType: 'outline' | 'ring' = isDef(type) ? type : 'ring'\r\n  const svgStr = `\"data:image/svg+xml;base64,${base64(ringType === 'ring' ? icon[ringType](color, intermediateColor.value) : icon[ringType](color))}\"`\r\n  svg.value = svgStr\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import './index.scss';\r\n</style>\r\n","import Component from 'F:/yunsoo_mobile/uni_modules/wot-design-uni/components/wd-loading/wd-loading.vue'\nwx.createComponent(Component)"],"names":["context","intermediateColor","ref","watch","addUnit","computed","isDef","objToStyle","onBeforeMount","gradient","base64"],"mappings":";;;;;AAQA,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,aAAa;AAAA,IACb,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,EAClB;AACF;;;;;AASA,UAAM,cAAcA,wDAAQ;AAC5B,UAAM,eAAeA,wDAAQ;AAC7B,UAAM,eAAeA,wDAAQ;AAE7B,UAAM,OAAO;AAAA,MACX,QAAQ,QAAQ,WAAW;AACzB,eAAO,2HAA2H,WAAW,0TAA0T,KAAK,6GAA6G,WAAW;AAAA,MACtkB;AAAA,MACA,KAAK,QAAQ,WAAWC,qBAAoB,WAAW;AACrD,eAAO,qFAAqF,YAAY,0FAA0F,KAAK,0CAA0CA,kBAAiB,+CAA+C,YAAY,qIAAqI,YAAY,gKAAgKA,kBAAiB,+CAA+C,YAAY,gJAAgJ,KAAK;AAAA,MACj1B;AAAA,IAAA;AAGF,UAAM,QAAQ;AAER,UAAA,MAAMC,kBAAY,EAAE;AACpB,UAAA,oBAAoBA,kBAAY,EAAE;AAClC,UAAA,WAAWA,kBAA4B,IAAI;AAEjDC,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,WAAW;AACD,iBAAA,QAAQC,wDAAQ,MAAM;AAAA,MACjC;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,MACb;AAAA,IAAA;AAGFD,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,MAAM;AACK;MACX;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,MACb;AAAA,IAAA;AAGI,UAAA,YAAYE,cAAAA,SAAS,MAAM;AAC/B,YAAM,QAAuB,CAAA;AACzB,UAAAC,gDAAA,MAAM,SAAS,KAAK,GAAG;AACnB,cAAA,SAASF,gDAAAA,QAAQ,SAAS,KAAK;AAC/B,cAAA,QAAQA,gDAAAA,QAAQ,SAAS,KAAK;AAAA,MACtC;AACA,aAAO,GAAGG,gDAAAA,WAAW,KAAK,CAAC,IAAI,MAAM,WAAW;AAAA,IAAA,CACjD;AAEDC,kBAAAA,cAAc,MAAM;AAClB,wBAAkB,QAAQC,gDAAAA,SAAS,MAAM,OAAO,WAAW,CAAC,EAAE,CAAC;AACtD;IAAA,CACV;AAED,aAAS,WAAW;AACZ,YAAA,EAAE,MAAM,MAAU,IAAA;AACxB,UAAI,WAA+BH,gDAAA,MAAM,IAAI,IAAI,OAAO;AACxD,YAAM,SAAS,8BAA8BI,kDAAAA,OAAO,aAAa,SAAS,KAAK,QAAQ,EAAE,OAAO,kBAAkB,KAAK,IAAI,KAAK,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjJ,UAAI,QAAQ;AAAA,IACd;;;;;;;;;;;ACnFA,GAAG,gBAAgB,SAAS;"}