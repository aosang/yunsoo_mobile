{"version":3,"file":"createSetting.js","sources":["pages/createLibrary/createSetting.vue","D:/software/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY3JlYXRlTGlicmFyeS9jcmVhdGVTZXR0aW5nLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<Navigation />\r\n\t<wd-toast />\r\n\t<view class=\"created_setting\">\r\n\t\t<wd-navbar \r\n\t\t\ttitle=\"发布设置\" \r\n\t\t\tfixed \r\n\t\t\tcustom-class=\"custom\" \r\n\t\t\tleft-text=\"返回\"\r\n\t\t\tright-text=\"下一步\"\r\n\t\t\tleft-arrow\r\n\t\t\t:zIndex=\"10\"\r\n\t\t\t@click-left=\"backToLibraryList\"\r\n\t\t\t@click-right=\"goToLibraryEditorPage\"\r\n\t\t>\r\n\t\t</wd-navbar>\r\n\t</view>\r\n\t<view class=\"created_input\">\r\n\t\t<view class=\"created_input_item\">\r\n\t\t\t<wd-textarea\r\n\t\t\t\tcustom-textarea-container-class=\"commonInputWidth\"\r\n\t\t\t\tcustom-textarea-class=\"commonInput\"\r\n\t\t\t\tplaceholder=\"请输入标题\"  \r\n\t\t\t\tclearable\r\n\t\t\t\t:maxlength=\"50\"\r\n\t\t\t\tshowWordLimit\r\n\t\t\t\tv-model=\"libraryForm.libraryTitle\"\r\n\t\t\t\tauto-height\r\n\t\t\t\tplaceholder-class=\"placeholderInput\"\r\n\t\t\t/>\r\n\t\t</view>\r\n\t\t<view class=\"created_input_item\">\r\n\t\t\t<wd-textarea\r\n\t\t\t\tcustom-textarea-container-class=\"commonInputWidth\"\r\n\t\t\t\tcustom-textarea-class=\"commonInput\"\r\n\t\t\t\tplaceholder=\"请输入简介\"  \r\n\t\t\t\tclearable\r\n\t\t\t\t:maxlength=\"50\"\r\n\t\t\t\tshowWordLimit\r\n\t\t\t\tv-model=\"libraryForm.libraryText\"\r\n\t\t\t\tauto-height\r\n\t\t\t\tplaceholder-class=\"placeholderInput\"\r\n\t\t\t/>\r\n\t\t</view>\r\n\t\t<view class=\"created_type\">\r\n\t\t\t<view class=\"created_type_title\">选择文章类型</view>\r\n\t\t\t<wd-radio-group \r\n\t\t\t\tv-model=\"libraryTypeValue\" \r\n\t\t\t\tcell \r\n\t\t\t\tshape=\"button\"\r\n\t\t\t\t@change=\"getSelectLibraryValue\"\r\n\t\t\t>\r\n\t\t\t\t<wd-radio \r\n\t\t\t\t\tv-for=\"item in libraryType\" \r\n\t\t\t\t\t:key=\"item.product_id\"\r\n\t\t\t\t\t:value=\"item.value\"\r\n\t\t\t\t\tchecked-color=\"#2a6fff\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{{item.value}}\r\n\t\t\t\t</wd-radio>\r\n\t\t\t</wd-radio-group>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\nimport Navigation from '@/components/navigation_header.vue'\r\nimport { ref, nextTick, reactive, onMounted } from 'vue'\r\nimport { requestMethods } from '@/request/request'\r\nimport { useToast } from '@/uni_modules/wot-design-uni'\r\nimport { getTimenumber } from '@/request/formatTime'\r\nconst toast = useToast()\r\nimport { libraryFormStore } from \"@/stores/libraryForm.js\"\r\nconst libraryStore = libraryFormStore()\r\nimport { userInfoStore } from \"@/stores/userInfo\"\r\nconst userStore = userInfoStore()\r\n\r\nconst libraryTypeValue = ref('')\r\nconst libraryType = ref([])\r\nconst libraryForm = reactive({\r\n\tlibraryId: '',\r\n\tlibraryTitle: '',\r\n\tlibraryText: '',\r\n\tlibraryTypeValue: '',\r\n\tlibraryTime: '',\r\n\tlibraryAuthor: '',\r\n\tlibraryHtml: ''\r\n})\r\n\r\nonMounted(() => {\r\n\tnextTick(() => {\r\n\t\tgetLibraryTypeSelectData()\r\n\t})\r\n})\r\n\r\nconst getLibraryTypeSelectData = async () => {\r\n\ttry {\r\n\t\tlet res = await requestMethods('/getLibraryType', 'GET')\r\n\t\tif (res && res.data) {\r\n\t\t\tlibraryType.value = res.data\r\n\t\t}\r\n\t} catch (error) {\r\n\t\tconsole.error('获取知识库类型失败:', error)\r\n\t\ttoast.error('获取知识库类型失败')\r\n\t}\r\n}\r\n\r\nconst getSelectLibraryValue = (e) => {\r\n\tlibraryForm.libraryTypeValue = e.value\r\n}\r\n\r\nconst goToLibraryEditorPage = () => {\r\n\tlet { libraryTitle, libraryText, libraryTypeValue} = libraryForm\r\n\tif(!libraryTitle) {\r\n\t\ttoast.info('请填写知识库标题')\r\n\t}else if(!libraryText) {\r\n\t\ttoast.info('请填写知识库简介')\r\n\t}else if(!libraryTypeValue) {\r\n\t\ttoast.info('请选择知识库类型')\r\n\t}else{\r\n\t\tlibraryForm.libraryTime = getTimenumber()[1]\r\n\t\tlibraryForm.libraryAuthor = userStore.userName\r\n\t\tlibraryForm.libraryId = userStore.userId\r\n\t\t\r\n\t\tlibraryStore.setLibrary(libraryForm)\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/createLibrary/createLibrary'\r\n\t\t})\r\n\t}\r\n}\r\n\r\nconst backToLibraryList = () => {\r\n\tuni.navigateBack()\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml, body {\r\n\tbackground: #f3f3f3;\r\n}\r\n\t\r\n.created_setting {\r\n\t:deep() {\r\n\t\twidth: 100%;\r\n\t\tmargin: 40rpx auto 0 auto;\r\n\t\t.custom {\r\n\t\t\tbackground-color: #2a6fff;\r\n\t\t\tmargin-top: 88rpx;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.created_input {\r\n\twidth: 100%;\r\n\tmargin-top: 180rpx;\r\n\t// box-sizing: border-box;\r\n\t\r\n\t.created_input_item {\r\n\t\tmargin-bottom: 10rpx;\r\n\t\t\r\n\t\t.placeholderInput {\r\n\t\t\tfont-size: 28rpx !important;\r\n\t\t}\r\n\t}\r\n\t\r\n\t:deep() {\r\n\t\t.commonInput {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t\r\n\t\t.commonInputWidth {\r\n\t\t\twidth: 680rpx;\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 28rpx !important;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.created_type {\r\n\t\twidth: 100%;\r\n\t\tbackground: #fff;\r\n\t\tbox-sizing: border-box;\r\n\t\t\r\n\t\t.created_type_title {\r\n\t\t\theight: 80rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-size: #555;\r\n\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import MiniProgramPage from 'F:/yunsoo_mobile/pages/createLibrary/createSetting.vue'\nwx.createPage(MiniProgramPage)"],"names":["useToast","libraryFormStore","userInfoStore","ref","reactive","onMounted","nextTick","requestMethods","uni","libraryTypeValue","getTimenumber","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAkEA,MAAM,aAAa,MAAW;;;;AAK9B,UAAM,QAAQA,kDAAAA,SAAU;AAExB,UAAM,eAAeC,mBAAAA,iBAAkB;AAEvC,UAAM,YAAYC,gBAAAA,cAAe;AAEjC,UAAM,mBAAmBC,cAAG,IAAC,EAAE;AAC/B,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,cAAcC,cAAAA,SAAS;AAAA,MAC5B,WAAW;AAAA,MACX,cAAc;AAAA,MACd,aAAa;AAAA,MACb,kBAAkB;AAAA,MAClB,aAAa;AAAA,MACb,eAAe;AAAA,MACf,aAAa;AAAA,IACd,CAAC;AAEDC,kBAAAA,UAAU,MAAM;AACfC,oBAAAA,WAAS,MAAM;AACd,iCAA0B;AAAA,MAC5B,CAAE;AAAA,IACF,CAAC;AAED,UAAM,2BAA2B,YAAY;AAC5C,UAAI;AACH,YAAI,MAAM,MAAMC,+BAAe,mBAAmB,KAAK;AACvD,YAAI,OAAO,IAAI,MAAM;AACpB,sBAAY,QAAQ,IAAI;AAAA,QACxB;AAAA,MACD,SAAQ,OAAO;AACfC,sBAAAA,qEAAc,cAAc,KAAK;AACjC,cAAM,MAAM,WAAW;AAAA,MACvB;AAAA,IACF;AAEA,UAAM,wBAAwB,CAAC,MAAM;AACpC,kBAAY,mBAAmB,EAAE;AAAA,IAClC;AAEA,UAAM,wBAAwB,MAAM;AACnC,UAAI,EAAE,cAAc,aAAa,kBAAAC,kBAAgB,IAAI;AACrD,UAAG,CAAC,cAAc;AACjB,cAAM,KAAK,UAAU;AAAA,MACvB,WAAU,CAAC,aAAa;AACtB,cAAM,KAAK,UAAU;AAAA,MACvB,WAAU,CAACA,mBAAkB;AAC3B,cAAM,KAAK,UAAU;AAAA,MACvB,OAAM;AACJ,oBAAY,cAAcC,iCAAe,EAAC,CAAC;AAC3C,oBAAY,gBAAgB,UAAU;AACtC,oBAAY,YAAY,UAAU;AAElC,qBAAa,WAAW,WAAW;AACnCF,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,QACR,CAAG;AAAA,MACD;AAAA,IACF;AAEA,UAAM,oBAAoB,MAAM;AAC/BA,oBAAAA,MAAI,aAAc;AAAA,IACnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpIA,GAAG,WAAWG,SAAe;"}